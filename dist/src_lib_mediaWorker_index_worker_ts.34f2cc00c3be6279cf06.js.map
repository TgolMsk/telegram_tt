{"version":3,"file":"src_lib_mediaWorker_index_worker_ts.34f2cc00c3be6279cf06.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMA,SAAS,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;AACprC;AACA,MAAMC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,E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,gBAAgB;MAAEuH,KAAK,EAAE;QAAEX,OAAO,EAAEkB,CAAC,CAACP,KAAK,CAACX,OAAO,IAAI;MAA+B;IAAE,CAAC,CAAC;EACjH,CAAC;EAEDgB,IAAI,CAACG,gBAAgB,CAAC,oBAAoB,EAAGD,CAAC,IAAK;IACjD;IACAN,OAAO,CAACD,KAAK,CAACO,CAAC,CAAC;IAChBtB,YAAY,CAAC;MAAExG,IAAI,EAAE,gBAAgB;MAAEuH,KAAK,EAAE;QAAEX,OAAO,EAAEkB,CAAC,CAACE,MAAM,CAACpB,OAAO,IAAI;MAA+B;IAAE,CAAC,CAAC;EAClH,CAAC,CAAC;AACJ,C;;;;;;UClLA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;;;;WClCA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF,E;;;;;WCRA;WACA;WACA;WACA,8BAA8B,sIAAsI;WACpK,E;;;;;WCJA;WACA;WACA;WACA;WACA,E;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC,I;;;;;WCPD,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kC;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,aAAa;WACb;WACA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;;WAEA,kB;;;;;WCpCA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;UENA;UACA","sources":["webpack://telegram-t/./src/lib/fastBlur.js","webpack://telegram-t/./src/lib/mediaWorker/index.worker.ts","webpack://telegram-t/./src/lib/offscreen-canvas/offscreen-canvas.worker.ts","webpack://telegram-t/./src/lib/rlottie/rlottie.worker.ts","webpack://telegram-t/./src/util/callbacks.ts","webpack://telegram-t/./src/util/createPostMessageInterface.ts","webpack://telegram-t/webpack/bootstrap","webpack://telegram-t/webpack/runtime/chunk loaded","webpack://telegram-t/webpack/runtime/compat get default export","webpack://telegram-t/webpack/runtime/define property getters","webpack://telegram-t/webpack/runtime/ensure chunk","webpack://telegram-t/webpack/runtime/get javascript chunk filename","webpack://telegram-t/webpack/runtime/get mini-css chunk filename","webpack://telegram-t/webpack/runtime/global","webpack://telegram-t/webpack/runtime/hasOwnProperty shorthand","webpack://telegram-t/webpack/runtime/make namespace object","webpack://telegram-t/webpack/runtime/publicPath","webpack://telegram-t/webpack/runtime/importScripts chunk loading","webpack://telegram-t/webpack/runtime/startup chunk dependencies","webpack://telegram-t/webpack/before-startup","webpack://telegram-t/webpack/startup","webpack://telegram-t/webpack/after-startup"],"sourcesContent":["/*\nSuperfast Blur - a fast Box Blur For Canvas\n\nVersion:     0.5\nAuthor:        Mario Klingemann\nContact:     mario@quasimondo.com\nWebsite:    http://www.quasimondo.com/BoxBlurForCanvas\nTwitter:    @quasimondo\n\nIn case you find this class useful - especially in commercial projects -\nI am not totally unhappy for a small donation to my PayPal account\nmario@quasimondo.de\n\nOr support me on flattr:\nhttps://flattr.com/thing/140066/Superfast-Blur-a-pretty-fast-Box-Blur-Effect-for-CanvasJavascript\n\nCopyright (c) 2011 Mario Klingemann\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n*/\n\n// eslint-disable-next-line @stylistic/max-len\nconst mul_table = [1, 57, 41, 21, 203, 34, 97, 73, 227, 91, 149, 62, 105, 45, 39, 137, 241, 107, 3, 173, 39, 71, 65, 238, 219, 101, 187, 87, 81, 151, 141, 133, 249, 117, 221, 209, 197, 187, 177, 169, 5, 153, 73, 139, 133, 127, 243, 233, 223, 107, 103, 99, 191, 23, 177, 171, 165, 159, 77, 149, 9, 139, 135, 131, 253, 245, 119, 231, 224, 109, 211, 103, 25, 195, 189, 23, 45, 175, 171, 83, 81, 79, 155, 151, 147, 9, 141, 137, 67, 131, 129, 251, 123, 30, 235, 115, 113, 221, 217, 53, 13, 51, 50, 49, 193, 189, 185, 91, 179, 175, 43, 169, 83, 163, 5, 79, 155, 19, 75, 147, 145, 143, 35, 69, 17, 67, 33, 65, 255, 251, 247, 243, 239, 59, 29, 229, 113, 111, 219, 27, 213, 105, 207, 51, 201, 199, 49, 193, 191, 47, 93, 183, 181, 179, 11, 87, 43, 85, 167, 165, 163, 161, 159, 157, 155, 77, 19, 75, 37, 73, 145, 143, 141, 35, 138, 137, 135, 67, 33, 131, 129, 255, 63, 250, 247, 61, 121, 239, 237, 117, 29, 229, 227, 225, 111, 55, 109, 216, 213, 211, 209, 207, 205, 203, 201, 199, 197, 195, 193, 48, 190, 47, 93, 185, 183, 181, 179, 178, 176, 175, 173, 171, 85, 21, 167, 165, 41, 163, 161, 5, 79, 157, 78, 154, 153, 19, 75, 149, 74, 147, 73, 144, 143, 71, 141, 140, 139, 137, 17, 135, 134, 133, 66, 131, 65, 129, 1];\n// eslint-disable-next-line @stylistic/max-len\nconst shg_table = [0, 9, 10, 10, 14, 12, 14, 14, 16, 15, 16, 15, 16, 15, 15, 17, 18, 17, 12, 18, 16, 17, 17, 19, 19, 18, 19, 18, 18, 19, 19, 19, 20, 19, 20, 20, 20, 20, 20, 20, 15, 20, 19, 20, 20, 20, 21, 21, 21, 20, 20, 20, 21, 18, 21, 21, 21, 21, 20, 21, 17, 21, 21, 21, 22, 22, 21, 22, 22, 21, 22, 21, 19, 22, 22, 19, 20, 22, 22, 21, 21, 21, 22, 22, 22, 18, 22, 22, 21, 22, 22, 23, 22, 20, 23, 22, 22, 23, 23, 21, 19, 21, 21, 21, 23, 23, 23, 22, 23, 23, 21, 23, 22, 23, 18, 22, 23, 20, 22, 23, 23, 23, 21, 22, 20, 22, 21, 22, 24, 24, 24, 24, 24, 22, 21, 24, 23, 23, 24, 21, 24, 23, 24, 22, 24, 24, 22, 24, 24, 22, 23, 24, 24, 24, 20, 23, 22, 23, 24, 24, 24, 24, 24, 24, 24, 23, 21, 23, 22, 23, 24, 24, 24, 22, 24, 24, 24, 23, 22, 24, 24, 25, 23, 25, 25, 23, 24, 25, 25, 24, 22, 25, 25, 25, 24, 23, 24, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 23, 25, 23, 24, 25, 25, 25, 25, 25, 25, 25, 25, 25, 24, 22, 25, 25, 23, 25, 25, 20, 24, 25, 24, 25, 25, 22, 24, 25, 24, 25, 24, 25, 25, 24, 25, 25, 25, 25, 22, 25, 25, 25, 24, 25, 24, 25, 18];\n\nexport default function boxBlurCanvasRGB(context, top_x, top_y, width, height, radius, iterations) {\n  if (Number.isNaN(radius) || radius < 1) return;\n\n  radius |= 0;\n\n  if (Number.isNaN(iterations)) iterations = 1;\n  iterations |= 0;\n  if (iterations > 3) iterations = 3;\n  if (iterations < 1) iterations = 1;\n\n  const imageData = context.getImageData(top_x, top_y, width, height);\n\n  const pixels = imageData.data;\n\n  let rsum;\n  let gsum;\n  let bsum;\n  let x;\n  let y;\n  let i;\n  let p;\n  let p1;\n  let p2;\n  let yp;\n  let yi;\n  let yw;\n  let wm = width - 1;\n  let hm = height - 1;\n  let rad1 = radius + 1;\n\n  let r = [];\n  let g = [];\n  let b = [];\n\n  let mul_sum = mul_table[radius];\n  let shg_sum = shg_table[radius];\n\n  let vmin = [];\n  let vmax = [];\n\n  while (iterations-- > 0) {\n    yw = yi = 0;\n\n    for (y = 0; y < height; y++) {\n      rsum = pixels[yw] * rad1;\n      gsum = pixels[yw + 1] * rad1;\n      bsum = pixels[yw + 2] * rad1;\n\n      for (i = 1; i <= radius; i++) {\n        p = yw + (((i > wm ? wm : i)) << 2);\n        rsum += pixels[p++];\n        gsum += pixels[p++];\n        bsum += pixels[p++];\n      }\n\n      for (x = 0; x < width; x++) {\n        r[yi] = rsum;\n        g[yi] = gsum;\n        b[yi] = bsum;\n\n        if (y == 0) {\n          vmin[x] = ((p = x + rad1) < wm ? p : wm) << 2;\n          vmax[x] = ((p = x - radius) > 0 ? p << 2 : 0);\n        }\n\n        p1 = yw + vmin[x];\n        p2 = yw + vmax[x];\n\n        rsum += pixels[p1++] - pixels[p2++];\n        gsum += pixels[p1++] - pixels[p2++];\n        bsum += pixels[p1++] - pixels[p2++];\n\n        yi++;\n      }\n      yw += (width << 2);\n    }\n\n    for (x = 0; x < width; x++) {\n      yp = x;\n      rsum = r[yp] * rad1;\n      gsum = g[yp] * rad1;\n      bsum = b[yp] * rad1;\n\n      for (i = 1; i <= radius; i++) {\n        yp += (i > hm ? 0 : width);\n        rsum += r[yp];\n        gsum += g[yp];\n        bsum += b[yp];\n      }\n\n      yi = x << 2;\n      for (y = 0; y < height; y++) {\n        pixels[yi] = (rsum * mul_sum) >>> shg_sum;\n        pixels[yi + 1] = (gsum * mul_sum) >>> shg_sum;\n        pixels[yi + 2] = (bsum * mul_sum) >>> shg_sum;\n\n        if (x == 0) {\n          vmin[y] = ((p = y + rad1) < hm ? p : hm) * width;\n          vmax[y] = ((p = y - radius) > 0 ? p * width : 0);\n        }\n\n        p1 = x + vmin[y];\n        p2 = x + vmax[y];\n\n        rsum += r[p1] - r[p2];\n        gsum += g[p1] - g[p2];\n        bsum += b[p1] - b[p2];\n\n        yi += width << 2;\n      }\n    }\n  }\n\n  context.putImageData(imageData, top_x, top_y);\n}\n","import '../rlottie/rlottie.worker';\nimport '../offscreen-canvas/offscreen-canvas.worker';\n\nimport type { OffscreenCanvasApi } from '../offscreen-canvas/offscreen-canvas.worker';\nimport type { RLottieApi } from '../rlottie/rlottie.worker';\n\nexport type MediaWorkerApi =\n  RLottieApi\n  & OffscreenCanvasApi;\n","import { createWorkerInterface } from '../../util/createPostMessageInterface';\nimport fastBlur from '../fastBlur';\n\nconst FAST_BLUR_ITERATIONS = 2;\n\nexport async function blurThumb(canvas: OffscreenCanvas, thumbData: string, radius: number) {\n  const imageBitmap = thumbData.startsWith('data:')\n    ? await dataUriToImageBitmap(thumbData)\n    : await blobUrlToImageBitmap(thumbData);\n  const { width, height } = canvas;\n  const ctx = canvas.getContext('2d')!;\n  const isFilterSupported = 'filter' in ctx;\n\n  if (isFilterSupported) {\n    ctx.filter = `blur(${radius}px)`;\n  }\n\n  ctx.drawImage(imageBitmap, -radius * 2, -radius * 2, width + radius * 4, height + radius * 4);\n\n  if (!isFilterSupported) {\n    fastBlur(ctx, 0, 0, width, height, radius, FAST_BLUR_ITERATIONS);\n  }\n}\n\nexport async function getAppendixColorFromImage(blobUrl: string, isOwn: boolean) {\n  const imageBitmap = await blobUrlToImageBitmap(blobUrl);\n  const { width, height } = imageBitmap;\n  const canvas = new OffscreenCanvas(width, height);\n  const ctx = canvas.getContext('2d')!;\n\n  ctx.drawImage(imageBitmap, 0, 0, width, height);\n\n  const x = isOwn ? width - 1 : 0;\n  const y = height - 1;\n\n  const pixel = Array.from(ctx.getImageData(x, y, 1, 1).data);\n  return `rgba(${pixel.join(',')})`;\n}\n\nfunction dataUriToImageBitmap(dataUri: string) {\n  const byteString = atob(dataUri.split(',')[1]);\n  const mimeString = dataUri.split(',')[0].split(':')[1].split(';')[0];\n  const buffer = new ArrayBuffer(byteString.length);\n  const dataArray = new Uint8Array(buffer);\n\n  for (let i = 0; i < byteString.length; i++) {\n    dataArray[i] = byteString.charCodeAt(i);\n  }\n\n  const blob = new Blob([buffer], { type: mimeString });\n\n  return createImageBitmap(blob);\n}\n\nasync function blobUrlToImageBitmap(blobUrl: string) {\n  const response = await fetch(blobUrl);\n  const blob = await response.blob();\n  return createImageBitmap(blob);\n}\n\nconst api = {\n  'offscreen-canvas:blurThumb': blurThumb,\n  'offscreen-canvas:getAppendixColorFromImage': getAppendixColorFromImage,\n};\n\ncreateWorkerInterface(api, 'media');\n\nexport type OffscreenCanvasApi = typeof api;\n","import { inflate } from 'pako/dist/pako_inflate';\n\nimport type { CancellableCallback } from '../../util/PostMessageConnector';\n\nimport { createWorkerInterface } from '../../util/createPostMessageInterface';\n\nimportScripts(new URL('./rlottie-wasm.js', import.meta.url));\n\ndeclare const Module: any;\n\ndeclare function allocate(...args: any[]): string;\n\ndeclare function intArrayFromString(str: string): string;\n\nlet rLottieApi: Record<string, AnyFunction>;\nconst rLottieApiPromise = new Promise<void>((resolve) => {\n  Module.onRuntimeInitialized = () => {\n    rLottieApi = {\n      init: Module.cwrap('lottie_init', '', []),\n      destroy: Module.cwrap('lottie_destroy', '', ['number']),\n      resize: Module.cwrap('lottie_resize', '', ['number', 'number', 'number']),\n      buffer: Module.cwrap('lottie_buffer', 'number', ['number']),\n      render: Module.cwrap('lottie_render', '', ['number', 'number']),\n      loadFromData: Module.cwrap('lottie_load_from_data', 'number', ['number', 'number']),\n    };\n\n    resolve();\n  };\n});\n\nconst HIGH_PRIORITY_MAX_FPS = 60;\nconst LOW_PRIORITY_MAX_FPS = 30;\nconst DESTROY_REPEAT_DELAY = 1000;\n\nconst renderers = new Map<string, {\n  imgSize: number;\n  reduceFactor: number;\n  handle: any;\n  imageData: ImageData;\n  customColor?: [number, number, number];\n}>();\n\nasync function init(\n  key: string,\n  tgsUrl: string,\n  imgSize: number,\n  isLowPriority: boolean,\n  customColor: [number, number, number] | undefined,\n  onInit: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const json = await extractJson(tgsUrl);\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\n  const handle = rLottieApi.init();\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\n  rLottieApi.resize(handle, imgSize, imgSize);\n\n  const imageData = new ImageData(imgSize, imgSize);\n\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\n\n  renderers.set(key, {\n    imgSize, reduceFactor, handle, imageData, customColor,\n  });\n\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\n}\n\nasync function changeData(\n  key: string,\n  tgsUrl: string,\n  isLowPriority: boolean,\n  onInit: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const json = await extractJson(tgsUrl);\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\n  const { handle } = renderers.get(key)!;\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\n\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\n\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\n}\n\nasync function extractJson(tgsUrl: string) {\n  const response = await fetch(tgsUrl);\n  const contentType = response.headers.get('Content-Type');\n\n  // Support deprecated JSON format cached locally\n  if (contentType?.startsWith('text/')) {\n    return response.text();\n  }\n\n  const arrayBuffer = await response.arrayBuffer();\n  return inflate(arrayBuffer, { to: 'string' });\n}\n\nfunction calcParams(json: string, isLowPriority: boolean, framesCount: number) {\n  const animationData = JSON.parse(json);\n  const maxFps = isLowPriority ? LOW_PRIORITY_MAX_FPS : HIGH_PRIORITY_MAX_FPS;\n  const sourceFps = animationData.fr || maxFps;\n  const reduceFactor = sourceFps % maxFps === 0 ? sourceFps / maxFps : 1;\n\n  return {\n    reduceFactor,\n    msPerFrame: 1000 / (sourceFps / reduceFactor),\n    reducedFramesCount: Math.ceil(framesCount / reduceFactor),\n  };\n}\n\nasync function renderFrames(\n  key: string, frameIndex: number, onProgress: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const {\n    imgSize, reduceFactor, handle, imageData, customColor,\n  } = renderers.get(key)!;\n\n  const realIndex = frameIndex * reduceFactor;\n\n  rLottieApi.render(handle, realIndex);\n  const bufferPointer = rLottieApi.buffer(handle);\n  const data = Module.HEAPU8.subarray(bufferPointer, bufferPointer + (imgSize * imgSize * 4));\n\n  if (customColor) {\n    const arr = new Uint8ClampedArray(data);\n    applyColor(arr, customColor);\n    imageData.data.set(arr);\n  } else {\n    imageData.data.set(data);\n  }\n\n  const imageBitmap = await createImageBitmap(imageData);\n\n  onProgress(frameIndex, imageBitmap);\n}\n\nfunction applyColor(arr: Uint8ClampedArray, color: [number, number, number]) {\n  for (let i = 0; i < arr.length; i += 4) {\n    arr[i] = color[0];\n    arr[i + 1] = color[1];\n    arr[i + 2] = color[2];\n  }\n}\n\nfunction destroy(key: string, isRepeated = false) {\n  try {\n    const renderer = renderers.get(key)!;\n    rLottieApi.destroy(renderer.handle);\n    renderers.delete(key);\n  } catch (err) {\n    // `destroy` sometimes can be called before the initialization is finished\n    if (!isRepeated) {\n      setTimeout(() => destroy(key, true), DESTROY_REPEAT_DELAY);\n    }\n  }\n}\n\nconst api = {\n  'rlottie:init': init,\n  'rlottie:changeData': changeData,\n  'rlottie:renderFrames': renderFrames,\n  'rlottie:destroy': destroy,\n};\n\ncreateWorkerInterface(api, 'media');\n\nexport type RLottieApi = typeof api;\n","export function createCallbackManager<T extends AnyToVoidFunction = AnyToVoidFunction>() {\n  const callbacks = new Set<T>();\n\n  function addCallback(cb: T) {\n    callbacks.add(cb);\n\n    return () => {\n      removeCallback(cb);\n    };\n  }\n\n  function removeCallback(cb: T) {\n    callbacks.delete(cb);\n  }\n\n  function runCallbacks(...args: Parameters<T>) {\n    callbacks.forEach((callback) => {\n      callback(...args);\n    });\n  }\n\n  function hasCallbacks() {\n    return Boolean(callbacks.size);\n  }\n\n  return {\n    runCallbacks,\n    addCallback,\n    removeCallback,\n    hasCallbacks,\n  };\n}\n\nexport type CallbackManager<T extends AnyToVoidFunction = AnyToVoidFunction>\n  = ReturnType<typeof createCallbackManager<T>>;\n","import type {\n  ApiUpdate,\n  CancellableCallback,\n  OriginMessageData,\n  OriginMessageEvent,\n  WorkerPayload,\n} from './PostMessageConnector';\n\nimport { DEBUG } from '../config';\nimport { createCallbackManager } from './callbacks';\nimport { throttleWithTickEnd } from './schedulers';\n\ndeclare const self: WorkerGlobalScope;\n\nconst callbackState = new Map<string, CancellableCallback>();\n\ntype ApiConfig =\n  // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  ((name: string, ...args: any[]) => any | [any, ArrayBuffer[]])\n  | Record<string, AnyFunction>;\ntype SendToOrigin = (data: WorkerPayload, transferables?: Transferable[]) => void;\n\nconst messageHandlers = createCallbackManager();\nonmessage = messageHandlers.runCallbacks;\n\nexport function createWorkerInterface(api: ApiConfig, channel?: string) {\n  let pendingPayloads: WorkerPayload[] = [];\n  let pendingTransferables: Transferable[] = [];\n\n  const sendToOriginOnTickEnd = throttleWithTickEnd(() => {\n    const data = { channel, payloads: pendingPayloads };\n    const transferables = pendingTransferables;\n\n    pendingPayloads = [];\n    pendingTransferables = [];\n\n    if (transferables.length) {\n      postMessage(data, transferables);\n    } else {\n      postMessage(data);\n    }\n  });\n\n  function sendToOrigin(payload: WorkerPayload, transferables?: Transferable[]) {\n    pendingPayloads.push(payload);\n\n    if (transferables) {\n      pendingTransferables.push(...transferables);\n    }\n\n    sendToOriginOnTickEnd();\n  }\n\n  handleErrors(sendToOrigin);\n\n  messageHandlers.addCallback((message: OriginMessageEvent) => {\n    if (message.data?.channel === channel) {\n      onMessage(api, message.data, sendToOrigin);\n    }\n  });\n}\n\nfunction onMessage(\n  api: ApiConfig,\n  data: OriginMessageData,\n  sendToOrigin: SendToOrigin,\n  onUpdate?: (update: ApiUpdate) => void,\n) {\n  if (!onUpdate) {\n    onUpdate = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n  }\n\n  data.payloads.forEach(async (payload) => {\n    switch (payload.type) {\n      case 'init': {\n        const { args } = payload;\n        if (typeof api === 'function') {\n          await api('init', onUpdate, ...args);\n        } else {\n          await api.init?.(onUpdate, ...args);\n        }\n\n        break;\n      }\n\n      case 'callMethod': {\n        const {\n          messageId, name, args, withCallback,\n        } = payload;\n\n        try {\n          if (typeof api !== 'function' && !api[name]) return;\n\n          if (messageId && withCallback) {\n            const callback = (...callbackArgs: any[]) => {\n              const lastArg = callbackArgs[callbackArgs.length - 1];\n\n              sendToOrigin({\n                type: 'methodCallback',\n                messageId,\n                callbackArgs,\n              }, isTransferable(lastArg) ? [lastArg] : undefined);\n            };\n\n            callbackState.set(messageId, callback);\n\n            args.push(callback as never);\n          }\n\n          const response = typeof api === 'function'\n            ? await api(name, ...args)\n            : await api[name](...args);\n          const { arrayBuffer } = (typeof response === 'object' && 'arrayBuffer' in response && response) || {};\n          if (messageId) {\n            sendToOrigin(\n              {\n                type: 'methodResponse',\n                messageId,\n                response,\n              },\n              arrayBuffer ? [arrayBuffer] : undefined,\n            );\n          }\n        } catch (error: any) {\n          if (DEBUG) {\n            // eslint-disable-next-line no-console\n            console.error(error);\n          }\n\n          if (messageId) {\n            sendToOrigin({\n              type: 'methodResponse',\n              messageId,\n              error: { message: error.message },\n            });\n          }\n        }\n\n        if (messageId) {\n          callbackState.delete(messageId);\n        }\n\n        break;\n      }\n\n      case 'cancelProgress': {\n        const callback = callbackState.get(payload.messageId);\n        if (callback) {\n          callback.isCanceled = true;\n        }\n\n        break;\n      }\n    }\n  });\n}\n\nfunction isTransferable(obj: any) {\n  return obj instanceof ArrayBuffer || obj instanceof ImageBitmap;\n}\n\nfunction handleErrors(sendToOrigin: SendToOrigin) {\n  self.onerror = (e) => {\n    // eslint-disable-next-line no-console\n    console.error(e);\n    sendToOrigin({ type: 'unhandledError', error: { message: e.error.message || 'Uncaught exception in worker' } });\n  };\n\n  self.addEventListener('unhandledrejection', (e) => {\n    // eslint-disable-next-line no-console\n    console.error(e);\n    sendToOrigin({ type: 'unhandledError', error: { message: e.reason.message || 'Uncaught rejection in worker' } });\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_pako_dist_pako_inflate_js\",\"src_config_ts-src_util_schedulers_ts\"], () => (__webpack_require__(\"./src/lib/mediaWorker/index.worker.ts\")))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"vendors-node_modules_pako_dist_pako_inflate_js\":\"25d30b0ef6e87faa5f8c\",\"src_config_ts-src_util_schedulers_ts\":\"c53780cc45317c9d1ba4\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = self.location + \"\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t\"src_lib_mediaWorker_index_worker_ts\": 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunktelegram_t\"] = self[\"webpackChunktelegram_t\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn Promise.all([\n\t\t__webpack_require__.e(\"vendors-node_modules_pako_dist_pako_inflate_js\"),\n\t\t__webpack_require__.e(\"src_config_ts-src_util_schedulers_ts\")\n\t]).then(next);\n};","","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n",""],"names":["mul_table","shg_table","boxBlurCanvasRGB","context","top_x","top_y","width","height","radius","iterations","Number","isNaN","imageData","getImageData","pixels","data","rsum","gsum","bsum","x","y","i","p","p1","p2","yp","yi","yw","wm","hm","rad1","r","g","b","mul_sum","shg_sum","vmin","vmax","putImageData","createWorkerInterface","fastBlur","FAST_BLUR_ITERATIONS","blurThumb","canvas","thumbData","imageBitmap","startsWith","dataUriToImageBitmap","blobUrlToImageBitmap","ctx","getContext","isFilterSupported","filter","drawImage","getAppendixColorFromImage","blobUrl","isOwn","OffscreenCanvas","pixel","Array","from","join","dataUri","byteString","atob","split","mimeString","buffer","ArrayBuffer","length","dataArray","Uint8Array","charCodeAt","blob","Blob","type","createImageBitmap","response","fetch","api","inflate","importScripts","URL","import","meta","url","rLottieApi","rLottieApiPromise","Promise","resolve","Module","onRuntimeInitialized","init","cwrap","destroy","resize","render","loadFromData","HIGH_PRIORITY_MAX_FPS","LOW_PRIORITY_MAX_FPS","DESTROY_REPEAT_DELAY","renderers","Map","key","tgsUrl","imgSize","isLowPriority","customColor","onInit","json","extractJson","stringOnWasmHeap","allocate","intArrayFromString","handle","framesCount","ImageData","reduceFactor","msPerFrame","reducedFramesCount","calcParams","set","changeData","get","contentType","headers","text","arrayBuffer","to","animationData","JSON","parse","maxFps","sourceFps","fr","Math","ceil","renderFrames","frameIndex","onProgress","realIndex","bufferPointer","HEAPU8","subarray","arr","Uint8ClampedArray","applyColor","color","isRepeated","renderer","delete","err","setTimeout","createCallbackManager","callbacks","Set","addCallback","cb","add","removeCallback","runCallbacks","args","forEach","callback","hasCallbacks","Boolean","size","DEBUG","throttleWithTickEnd","callbackState","messageHandlers","onmessage","channel","pendingPayloads","pendingTransferables","sendToOriginOnTickEnd","payloads","transferables","postMessage","sendToOrigin","payload","push","handleErrors","message","onMessage","onUpdate","update","messageId","name","withCallback","callbackArgs","lastArg","isTransferable","undefined","error","console","isCanceled","obj","ImageBitmap","self","onerror","e","addEventListener","reason"],"sourceRoot":""}